!function(e){function t(t){for(var n,o,r=t[0],l=t[1],a=0,s=[];a<r.length;a++)o=r[a],i[o]&&s.push(i[o][0]),i[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(d&&d(t);s.length;)s.shift()()}var n={},i={0:0};function o(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.e=function(e){var t=[],n=i[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise(function(t,o){n=i[e]=[t,o]});t.push(n[2]=r);var l,a=document.createElement("script");a.charset="utf-8",a.timeout=120,o.nc&&a.setAttribute("nonce",o.nc),a.src=function(e){return o.p+""+({1:"vendors~videojs",2:"videojs"}[e]||e)+".js"}(e),l=function(t){a.onerror=a.onload=null,clearTimeout(d);var n=i[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src,l=new Error("Loading chunk "+e+" failed.\n("+o+": "+r+")");l.type=o,l.request=r,n[1](l)}i[e]=void 0}};var d=setTimeout(function(){l({type:"timeout",target:a})},12e4);a.onerror=a.onload=l,document.head.appendChild(a)}return Promise.all(t)},o.m=e,o.c=n,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/js/",o.oe=function(e){throw console.error(e),e};var r=window.webpackJsonp=window.webpackJsonp||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var a=0;a<r.length;a++)t(r[a]);var d=l;o(o.s=1)}([function(e,t,n){"use strict";
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var i=/["'&<>]/;e.exports=function(e){var t,n=""+e,o=i.exec(n);if(!o)return n;var r="",l=0,a=0;for(l=o.index;l<n.length;l++){switch(n.charCodeAt(l)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#39;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}a!==l&&(r+=n.substring(a,l)),a=l+1,r+=t}return a!==l?r+n.substring(a,l):r}},function(e,t,n){"use strict";n.r(t);var i=n(0),o=n.n(i);
/*
 * @copyright 2018 Christoph Wurst <christoph@winzerhof-wurst.at>
 *
 * @author 2018 Christoph Wurst <christoph@winzerhof-wurst.at>
 *
 * @license GNU AGPL version 3 or any later version
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */
n.nc=btoa(OC.requestToken),n.p=OC.filePath("files_videoplayer","","js/");var r=null,l={UI:{show:function(){var e=document.createElement("source");e.src=o()(l.location).replace("&amp;","&"),l.mime&&(e.type=o()(l.mime));var t=document.createElement("video");if(t.id="my_video_1",t.classList.add("video-js"),t.classList.add("vjs-fill"),t.classList.add("vjs-big-play-centered"),t.controls=!0,t.preload="auto",t.width="100%",t.height="100%",t.poster=OC.filePath("files_videoplayer","","img")+"/poster.png",t.setAttribute("data-setup",'{"techOrder": ["html5"]}'),t.appendChild(e),null===l.inline){var n=document.createElement("div");n.id="videoplayer_overlay";var i=document.createElement("div");i.id="videoplayer_outer_container";var a=document.createElement("div");a.id="videoplayer_container";var d=document.createElement("div");d.id="videoplayer",a.appendChild(d),i.appendChild(a),n.appendChild(i),d.appendChild(t),document.body.appendChild(n),n.addEventListener("click",function(e){e.target===this&&l.hidePlayer()}),setTimeout(function(){n.className="show"},0)}else{var s=document.createElement("div");s.id="videoplayer_view",s.appendChild(t),l.inline.appendChild(s)}r("my_video_1",{fill:!0}).ready(function(){if(l.player=this,null===l.inline){var e=document.createElement("a");e.className="icon-view-close",e.id="box-close",e.href="#",e.addEventListener("click",function(){l.hidePlayer()}),document.getElementById("my_video_1").appendChild(e)}null===document.getElementById("body-public")&&l.player.play()})},hide:function(){var e=document.getElementById("videoplayer_overlay");e.className="",setTimeout(function(){e.parentElement.removeChild(e)},500)}},mime:null,file:null,location:null,player:null,inline:null,mimeTypes:["video/mp4","video/x-m4v","video/webm","video/x-flv","video/ogg","video/quicktime","video/x-matroska"],mimeTypeAliasses:{"video/x-matroska":"video/webm"},onView:function(e,t){l.file=e,l.dir=t.dir,l.location=t.fileList.getDownloadUrl(e,l.dir),l.mime=t.$file.attr("data-mime"),l.mimeTypeAliasses.hasOwnProperty(l.mime)&&(l.mime=l.mimeTypeAliasses[l.mime]),l.showPlayer()},onViewInline:function(e,t,n){l.location=t,l.mime=n,l.mimeTypeAliasses.hasOwnProperty(l.mime)&&(l.mime=l.mimeTypeAliasses[l.mime]),l.inline=e,l.showPlayer()},showPlayer:function(){Promise.all([n.e(1),n.e(2)]).then(n.bind(null,4)).then(function(e){r=e.default,Promise.all([Promise.all([n.e(1),n.e(2)]).then(n.t.bind(null,2,7)),Promise.all([n.e(1),n.e(2)]).then(n.t.bind(null,3,7))]).then(function(){l.UI.show()})})},hidePlayer:function(){null!==l.player&&!1!==l.player&&null===l.inline&&(l.player.dispose(),l.player=!1,l.UI.hide())},log:function(e){console.log(e)}};document.addEventListener("DOMContentLoaded",function(){if(document.addEventListener("keyup",function(e){(void 0!==e.key&&"Escape"===e.key||void 0!==e.keyCode&&27===e.keyCode)&&l.hidePlayer()}),OCA&&OCA.Files&&OCA.Files.fileActions&&!OCA.Viewer)for(var e=0;e<l.mimeTypes.length;++e){var t=l.mimeTypes[e];OCA.Files.fileActions.register(t,"View",OC.PERMISSION_READ,"",l.onView),OCA.Files.fileActions.setDefault(t,"View"),t===n&&(isSupportedMimetype=!0)}if(document.getElementById("body-public")&&document.getElementById("imgframe")){var n=document.getElementById("mimetype").value;for(e=0;e<l.mimeTypes.length;++e)if(l.mimeTypes[e]===n){var i=window.location.href.split("?")[0]+"/download";l.onViewInline(document.getElementById("imgframe"),i,n);break}}})}]);
//# sourceMappingURL=main.js.map